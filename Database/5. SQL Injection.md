# SQL Injection
======

비정상적인 접근으로 조작된 SQL 쿼리문이 DB에 그대로 전달되어
DB의 정보를 가져오는 해킹 기법을 뜻한다.

클라이언트가 입력한 데이터를 제대로 필터링하지 못할 경우 발생한다.
쉬운 난이도에 비해 피해가 상당할수 있기 때문에 방지가 필수적이다.


## 주요 공격 방법

### 인증 우회

로그인을 할때 아이디와 비밀번호를 input창에 입력하게된다.
이때 쿼리를 예상해본다면 아래와 같은 방식으로 전송될 것이다.

SELECT * FROM USER WHERE ID = "melon" AND PASSWORD = "123";

인증 우회 방법으로 공격할 때 input창에 비밀번호와 함께
다른 쿼리문을 입력하는 방식이다.

123; DELETE * USER FROM ID = "1";

필터링이 제대로 되어있지 않은경우 비밀번호가 아이디와 일치해 True가 되고
뒤에 작성한 DELETE 문까지 영향을 주게되는 상황이 발생할 수 있다.


### 데이터 노출

고의적인 에러를 유발시켜 에러 메시지를 이용해 DB의 구조를 유추하는 방식이다.
예를 들어 GET 방식으로 동작하는 URL 쿼리스트링을 추가해 에러를 발생시키고
이를 통해 DB 구조를 유추해 해킹에 활용하는 방식이다.


## 주요 방어 방법

### Input 값에 대한 검증

Input값에 대해 검증 로직을 추가하여 미리 설정한 특수문자가 포함되었을때
요청을 거절하거나 필터링하는 방법이다.


### Prepared Statement 구문 사용

Prepared Statement 구문을 사용하면 Input값이 DB의 파라미터로 들어가기전
사용자의 입력 값을 쿼리로 인식하지 않고 단순 문자열로 인식하게 하여
공격을 예방하는 방법이다.


### SQL 서버 오류 시 에러 메시지 노출 감추기

에러 발생시 에러 처리를 제대로 해주지 않으면 DB의 정보가
에러와 함께 노출이 될수 있기 때문에 사용자에게 노출되는 에러 메시지를
따로 핸들링해 정보 노출을 막는 방법이다.


Reference :
https://antstudy.tistory.com/102
https://gyoogle.dev/blog/computer-science/data-base/SQL%20Injection.html